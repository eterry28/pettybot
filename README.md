# PettyBot ğŸ’…

A playful roast bot for Bluesky with the legendary energy of Don Rickles meets Eddie Murphy. Tag it for witty roasts at three spice levels.

## ğŸ¤ What is PettyBot?

PettyBot delivers custom roasts to your Bluesky posts with animated, expressive humor. It's opt-in only, always playful (never cruel), and requires users to follow before getting roasted.

**Three Spice Levels:**
- ğŸ’š **Mild** - Affectionate ribbing, like your funny uncle at a BBQ
- ğŸ’› **Medium** - Classic comedy roast energy with animated disbelief
- ğŸŒ¶ï¸ **Spicy** - Full legendary roast mode, no holds barred (but still playful!)

## âœ¨ Features

- ğŸ¤– Powered by Claude 3.5 Haiku for dynamic, unique responses
- ğŸ’™ Playful comedy, never cruel
- ğŸ”’ Follower-gated (saves API costs + builds community)
- âœ… Roasts parent posts when you reply with a mention
- ğŸ›¡ï¸ Built-in safety filters for sensitive topics
- âš¡ Real-time responses (checks mentions every 30 seconds)

## ğŸš€ How to Use

1. **Follow** @pettybot.bsky.social
2. **Tag** the bot on any post (yours or reply to someone else's)
3. **Choose** your spice level:
   - `@pettybot mild` - Gentle teasing
   - `@pettybot` or `@pettybot medium` - Balanced pettiness
   - `@pettybot spicy` - Maximum heat

**Example:**
```
User's Post: "Just meal prepped for the week!"
Your Reply: "@pettybot medium"
Bot's Response: "Wait wait wait - you did basic meal prep? Stop the presses! 
Nobody else has Tupperware!"
```

## ğŸ› ï¸ Technical Setup

### Prerequisites
- Node.js 18+
- Bluesky account (for the bot)
- Anthropic API key (Claude)
- Railway account (for hosting)

### Installation

1. **Clone the repository**
```bash
git clone https://github.com/eterry28/pettybot.git
cd pettybot
```

2. **Install dependencies**
```bash
npm install
```

3. **Create Bluesky bot account**
   - Go to https://bsky.app and create account
   - Go to Settings â†’ App Passwords â†’ Create new password
   - Save the app password!

4. **Get Anthropic API key**
   - Visit https://console.anthropic.com
   - Get your API key from settings

5. **Configure environment variables**
```bash
cp .env.example .env
```

Edit `.env`:
```bash
BLUESKY_HANDLE=pettybot.bsky.social
BLUESKY_PASSWORD=your-app-password-here
ANTHROPIC_API_KEY=sk-ant-your-key-here
```

6. **Run locally for testing**
```bash
npm start
```

You should see:
```
Logging in to Bluesky...
âœ… Logged in successfully!
ğŸ¤– PettyBot is running...
```

### Deploy to Railway

1. Push code to GitHub
2. Go to https://railway.app
3. Click "New Project" â†’ "Deploy from GitHub repo"
4. Select your repository
5. Add environment variables in Railway dashboard:
   - `BLUESKY_HANDLE`
   - `BLUESKY_PASSWORD`
   - `ANTHROPIC_API_KEY`
6. Deploy!

Railway will automatically detect the Node.js app and run `npm start`.

## ğŸ’° Cost Estimate

- **Railway hosting**: ~$5/month
- **Claude 3.5 Haiku API**: ~$0.0003 per response
  - 100 roasts/day = ~$0.90/month
  - 500 roasts/day = ~$4.50/month
- **Total**: ~$6-10/month depending on usage

Very affordable for the entertainment value! ğŸ‰

## ğŸ“ Project Structure

```
pettybot/
â”œâ”€â”€ index.js          # Main bot script
â”œâ”€â”€ package.json      # Dependencies
â”œâ”€â”€ .env             # Configuration (not committed)
â”œâ”€â”€ .env.example     # Template for .env
â”œâ”€â”€ .gitignore       # Git ignore rules
â””â”€â”€ README.md        # This file
```

## ğŸ”’ Safety & Rules

PettyBot will **NOT** roast:
- Physical appearance or weight
- Race, religion, or sexual orientation
- Mental health or trauma
- Disabilities or medical conditions
- Any sensitive personal topics

If sensitive content is detected, the bot responds:
> "We're sitting this one out ğŸ’™"

**Follower requirement:** Users must follow the bot before getting roasted. Non-followers get:
> "The audacity to want a roast without even following me. Follow first, then we'll talk ğŸ’…"

## ğŸ­ Voice & Style

PettyBot channels **Don Rickles + Eddie Murphy** energy:

**Mild**: Warm, affectionate ribbing
- "Look at you, acting like you invented Tupperware..."

**Medium**: Animated comedy roast
- "Oh NOW you wanna be different? That's what we're doing? Okay, okay."

**Spicy**: Full legendary roast mode
- "THREE DAYS! You did it for three days and came running to tell us like you climbed Everest!"

## ğŸ› Troubleshooting

**Bot not responding?**
- Check Railway logs for errors
- Verify environment variables are set correctly
- Ensure bot account exists and credentials are valid
- Wait the full 30 seconds (polling interval)

**Testing locally:**
- Run `npm start`
- Tag the bot from your personal Bluesky account
- Watch console logs for activity

**Want faster local testing?**
Change polling interval in `index.js`:
```javascript
// Line ~180
setInterval(checkMentions, 10000); // 10 seconds instead of 30
```

## ğŸ“Š Monitoring

Watch Railway logs to see:
- Mentions detected
- Follower checks
- Responses generated
- Any errors

Example log output:
```
New mention from @username.bsky.social replying to: "I love pineapple on pizza"
Spice level: medium
Posted reply: Oh you like pineapple on pizza? How brave. Starting food discourse in 2025.
```

## ğŸ¤ Contributing

This is a fun side project! If you want to:
- Suggest voice improvements
- Report bugs
- Add features

Feel free to open an issue or PR!

## ğŸ“œ License

MIT License - feel free to fork and customize for your own roast bot!

## ğŸ’¬ Support

Questions? Tag @pettybot on Bluesky and ask!

(It might roast you for asking, but that's part of the fun ğŸ’…)

---

Built with ğŸ’™ and ğŸ”¥ by ET

**Tech Stack:** Node.js â€¢ Bluesky AT Protocol â€¢ Claude 3.5 Haiku â€¢ Railway